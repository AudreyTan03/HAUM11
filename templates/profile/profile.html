{% extends 'core/base.html' %}
{% load crispy_forms_tags %}
{% block content %}
    <div class="bg-white p-8 rounded-lg shadow-md">
        <div class="flex items-center">
            <img class="rounded-full w-16 h-16" src="{{ user.profile.image.url }}" alt="{{ user.username }} profile image">
            <div class="ml-4">
                <h2 class="text-2xl font-bold">{{ user.username }}</h2>
                <p class="text-gray-500">{{ user.email }}</p>
            </div>
        </div>

        <div class="bg-white p-8 rounded-lg shadow-md">
        {% if user.username != request.user.username %}
            <legend class="text-lg font-semibold">Profile Info</legend>
            Username: {{ user.username }} <br>
            Email: {{ user.email }} <br>
            Bio: {{ profile.bio }} <br>

                {% if item %}

                    <div class="grid grid-cols-3 gap-3">
                        {% for item in item %}
                            <div>
                                <a href="{% url 'item:detail' item.id %}">
                                    <div>
                                        <img src="{{ item.image.url }}" class="rounded-t-xl">
                                    </div>

                                    <div class="p-6 bg-white rounded-b-xl">
                                        <h2 class="text-2xl">{{ item.name }}</h2>
                                        <p class="text-gray-500">Price: {{ item.price }}</p>
                                    </div>
                                </a>
                            </div>

{#                        #    <a href ="{% url 'item:detail' item.id %}">Go back</a>#}
                        {% endfor %}

                     </div>
                {% endif %}


        {% else %}
                <form method="POST" enctype="multipart/form-data" class="mt-4">
                {% csrf_token %}
                <fieldset class="border-b mb-4">
                    <legend class="text-lg font-semibold">Profile Info</legend>
    {#                {{ u_form|crispy }}#}
                    Username: {{ u_form.username }} <br>
                    Email: {{ u_form.email }} <br>
                    Bio: {{ p_form.bio }} <br>
                    Image: {{ p_form.image }} <br>

    {#                {{ p_form|crispy }}#}
                </fieldset>
                <!-- Information Boxes -->
                <!-- End Information Boxes -->
                <div class="mt-4">
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded" type="submit">Update</button>
                </div>
            </form>
        {% endif %}
        </div>
    </div>
{% endblock content %}
